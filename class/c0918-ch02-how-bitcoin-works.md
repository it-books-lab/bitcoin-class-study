# 수업 필기

- bitcoin node에는 bitcoin network에 참여한 모든 시스템이 포함됨! a server, desktop application, or wallet
- 트랜잭션을 만들고, 키를 관리하고, 내 친구들을 관리한다. 내 주소로 들어온 트랜젝션을 받아준다.
- 앨리스가 밥의 카페에서 커피를 사기 위해 트렌젝션을 보내면, 밥이 앨리스가 보낸 커피에 대한 트랜젝션을 받은 후 flooding 과정을 거쳐서 주변 친구들에게 해당 트렌젝션을 알린다.
- 밥의 key로 redeemable한 output을 만든다. 즉, 밥의 개인키로 redeemable한 output을 만든다는 말이다.

- **비트코인 주소의 미사용 트랜잭션 출력(UTXO: Unspent Transaction Output)** 을 조회한 결과
- 이 JSON은 특정 주소가 가지고 있는 **아직 쓰이지 않은 UTXO 목록**을 나타냅니다.
- 이 UTXO들을 모아야 실제로 비트코인을 전송할 수 있습니다.

- **`tx_hash`**: 해당 UTXO가 속해 있는 트랜잭션(Transaction)의 해시값.
- **`tx_index`**: 트랜잭션을 블록체인에서 구분하기 위한 내부 인덱스(식별자).
    - 예: `104810202`
    - API에서 트랜잭션을 빠르게 찾을 때 사용됨.
- **`tx_output_n`**: 해당 트랜잭션 안에서 **몇 번째 출력(output)** 인지를 나타냄.
    - 하나의 트랜잭션은 여러 개의 출력(주소1에 0.5BTC, 주소2에 0.3BTC...)을 가질 수 있기 때문에 구분 필요.
- **`script`**: 비트코인 **locking script (scriptPubKey)**.
    - 이 스크립트는 특정 공개키 해시(P2PKH)에 대한 조건을 담고 있음.
    - 즉, 이 출력은 해당 공개키 해시에 대응하는 개인키로 서명해야만 소비(spend) 가능.
- **`value`**
    - UTXO에 담긴 금액(단위: **satoshi**).
    - 1 BTC = 100,000,000 satoshi 이므로 `10000000 satoshi = 0.1 BTC`.
- **`value_hex`**
    - 같은 금액을 **16진수**로 표현한 값.
- **`confirmations`**
    - 이 트랜잭션이 블록에 포함된 후 얼마나 많은 블록이 추가되었는지.
    - 예: `0` → 아직 블록에 확정(confirmation)되지 않은 상태.
    - 일반적으로 비트코인 네트워크에서는 **6 confirmations 이상**일 때 안정적으로 확정되었다고 봄.

- Mining은 많은 트랜젝션을 블록에 채워넣는다. 즉, 새로운 블록을 만드는 것이다.
- **채굴(Mining):**
    
    – 새로운 블록을 생성하는 과정
    
    – 트랜잭션들을 블록에 묶는 과정
    
    – 작업 증명(Proof of Work):
    
    • 새로운 블록을 만들기 위해 일정 수준의 계산이 필요함
    
- **채굴 과정의 목적:**
    
    – 채굴은 잘못되었거나 변조된 트랜잭션을 거부함으로써 비트코인 거래의 보안을 제공함
    
    – 채굴은 각 블록에서 새로운 비트코인을 생성하며, 이는 마치 중앙은행이 새 돈을 발행하는 것과 유사함
    
    • 블록마다 생성되는 비트코인의 양은 정해져 있고, 시간이 지남에 따라 감소하며, 고정된 발행 일정에 따름
    
- 새로운 트랜잭션이 들어오면,
    
    – 각 노드가 이를 검증되지 않은 트랜잭션의 임시 풀(Mempool)에 추가함
    
    – 채굴자는 이 검증되지 않은 트랜잭션들을 모아 새로운 블록(후보 블록, candidate block)을 생성함
    
    – 새로운 블록에는 우선적으로 **수수료가 가장 높은 트랜잭션**이 먼저 포함되며, 그 외 몇 가지 기준에 따라 추가됨
    

- 카페 사장인 밥은 자신의 주소가 담긴 QR을 보여준다. 앨리스가 밥에게 트랜젝션을 보내면 propagation이 진행됨. 밥은 트랜젝션을 받자마자 자기 주변에 propagation을 보냄.
- 밥과 앨리스와의 트랜젝션 만들고, 블록에 들어가고, 1시간 이후에 해당 블록이 완전히 블록체인에 붙었다고 장담할 수 있다.
- 즉, 1시간 이후에 블록체인에 붙어야 밥이 UTXO를 사용할 수 있다는 말이다.

# GPT가 수정해준 필기 내용

### 1. 노드 설명

- **기록된 내용:**
    
    > bitcoin node에는 bitcoin network에 참여한 모든 시스템이 포함됨! a server, desktop application, or wallet
    > 
- **수정 필요:**
    
    → 모든 시스템이 “노드”인 것은 아님.
    
    지갑(wallet)이나 단순 애플리케이션이 꼭 풀노드(full node)일 필요는 없습니다.
    
    - 풀노드(full node): 블록 전체를 검증하고 유지
    - 라이트 클라이언트(SPV node): 전체 블록체인이 아니라 헤더만 저장해 동작

✅ **수정 문장 예시:**

“Bitcoin node는 블록체인 네트워크에 참여하여 트랜잭션과 블록을 전달·검증하는 시스템을 의미하며, 서버나 데스크톱 앱, 일부 지갑이 노드로 동작할 수 있다.”

---

### 2. 트랜잭션 전파 관련

- **기록된 내용:**
    
    > 밥이 앨리스가 보낸 커피에 대한 트랜젝션을 받은 후 flooding 과정을 거쳐서 주변 친구들에게 알린다.
    > 
    > 
    > 밥은 트랜젝션을 받자마자 자기 주변에 propagation을 보냄.
    > 
- **수정 필요:**
    
    → 트랜잭션을 전파(propagation)하는 주체는 **모든 노드**이지, 밥 개인이 하는 게 아닙니다.
    
    밥은 단순히 지갑 주소 소유자일 뿐이고, 실제로 전파하는 건 네트워크 노드입니다.
    

✅ **수정 문장 예시:**

“앨리스가 트랜잭션을 보내면, 해당 트랜잭션은 네트워크의 노드들에 의해 flooding 방식으로 전파된다.”

---

### 3. UTXO 설명

- **기록된 내용:**
    
    > 밥의 key로 redeemable한 output을 만든다. 즉, 밥의 개인키로 redeemable한 output을 만든다는 말이다.
    > 
- **수정 필요:**
    
    → 정확히는 **밥의 공개키 해시(Public Key Hash)** 에 해당하는 output을 생성합니다.
    
    개인키로 직접 redeemable한 게 아니라, **개인키에 대응하는 공개키**로 스크립트를 만족시킬 수 있게 만드는 구조입니다.
    

✅ **수정 문장 예시:**

“밥의 공개키 해시로 redeemable한 output을 만든다. 즉, 밥이 가진 개인키로 서명해야만 해당 output을 소비할 수 있다.”

---

### 4. 확인(confirmation) 관련

- **기록된 내용:**
    
    > 밥과 앨리스와의 트랜젝션 만들고, 블록에 들어가고, 1시간 이후에 해당 블록이 완전히 블록체인에 붙었다고 장담할 수 있다.
    > 
    > 
    > 즉, 1시간 이후에 블록체인에 붙어야 밥이 UTXO를 사용할 수 있다는 말이다.
    > 
- **수정 필요:**
    
    → 일반적으로 블록 생성 주기가 약 10분이므로, **6개의 확인(confirmation)** 을 기다리면 안전하다고 보는 것이고, 꼭 1시간이라는 시간 단위로 보장되는 건 아님.
    
    그리고 밥이 꼭 6컨펌을 기다려야만 UTXO를 “사용”할 수 있는 건 아닙니다. 트랜잭션은 1컨펌만 있어도 다른 곳에서 소비될 수 있지만, 보안상 위험을 줄이기 위해 관행적으로 6컨펌을 기다립니다.
    

✅ **수정 문장 예시:**

“일반적으로 트랜잭션이 블록에 포함된 후 6개 블록(약 1시간)이 더 쌓이면 안전하게 확정되었다고 본다. 밥은 이 시점 이후에 받은 UTXO를 안전하게 사용할 수 있다.”

---

✅ **요약 – 수정이 필요한 부분**

1. 노드 정의 → 모든 참여 시스템이 노드인 것은 아님 (풀노드/라이트노드 구분).
2. 트랜잭션 전파 주체 → 개인이 아니라 네트워크 노드가 propagation 함.
3. UTXO 스크립트 → 개인키가 아니라 **공개키 해시**로 redeemable.
4. 컨펌/1시간 → 6컨펌(약 1시간)이 안전 기준이지 절대 규칙은 아님.








